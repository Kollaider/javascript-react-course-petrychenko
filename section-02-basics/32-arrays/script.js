"use strict";

// Базовые операции с массивами
const arr = [1, 2, 3, 6, 8];

// Длина массива (количество элементов)
console.log(arr.length); // 5

// Удаление последнего элемента
arr.pop();
console.log(arr); // [1, 2, 3, 6]

// Добавление элемента в конец
arr.push(10);

// Классический перебор массива
for (let i = 0; i < arr.length; i++) {
    console.log(arr[i]);
}

// Современный перебор значений (ES6)
for (let value of arr) {
    console.log(value);
}

// Опасность разреженных массивов
arr[99] = 0;
console.log(arr); // [1, 2, 3, 6, 8, <94 empty items>, 0]
console.log(arr.length); // 100 (но реальных элементов меньше)

// Методы перебора массивов

// forEach - принимает 3 аргумента:
// item - текущий элемент, i - его индекс, arr - сам массив
arr.forEach(function(item, i, arr) {
    console.log(`${i}: ${item} внутри массива ${arr}`);
});
/*
Вывод:
0: 1 внутри массива 1,2,3,6,8
1: 2 внутри массива 1,2,3,6,8
2: 3 внутри массива 1,2,3,6,8
3: 6 внутри массива 1,2,3,6,8
4: 8 внутри массива 1,2,3,6,8
*/

// Различия между forEach и for...of:
// - forEach нельзя прервать (break/continue не работают)
// - for...of поддерживает break/continue

// Основные методы перебора массивов:
// arr.forEach() - просто перебор
// arr.map() - преобразование в новый массив
// arr.every() - проверка всех элементов
// arr.some() - проверка хотя бы одного элемента
// arr.filter() - фильтрация элементов
// arr.reduce() - аккумуляция значения

// Работа со строками как с массивами
const str = prompt("Введите элементы через запятую", "");
const products = str.split(","); // Разделение строки по запятым
console.log(products);

// Объединение массива в строку
console.log(products.join('; '));

// Особенности сортировки
const numbers = [2, 26, 10, 8, 13];
console.log(numbers.sort()); // [10, 13, 2, 26, 8] - сортировка как строк!

// Правильная сортировка чисел
function compareNum(a, b) {
    return a - b;
}
console.log(numbers.sort(compareNum)); // [2, 8, 10, 13, 26]

/*
Псевдомассивы - объекты, похожие на массивы (имеют индексы и length), 
но не имеют методов массива. Примеры:
- arguments в функциях
- DOM-коллекции (document.querySelectorAll)
- Результат работы String.match
*/